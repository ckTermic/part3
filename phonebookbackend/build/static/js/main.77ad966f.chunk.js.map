{"version":3,"sources":["components/persons.js","components/personForm.js","components/filter.js","services/phonebook.js","components/messageComponent.js","App.js","index.js"],"names":["PersonsRender","setType","setMessage","setPersons","persons","phonebookServices","map","per","name","number","onClick","id","pers","find","person","window","confirm","remove","then","deletedPerson","filter","catch","error","console","log","response","setTimeout","handleDelete","PersonForm","newName","newNumber","setNewName","setNewNumber","onSubmit","e","preventDefault","toLowerCase","personToUpdate","update","updatedPerson","message","alert","personObject","create","returnedPerson","concat","value","onChange","target","type","Filter","props","setFilter","n","toLocaleLowerCase","baseUrl","getAll","axios","get","data","newObject","post","put","delete","date","MessageComponent","className","App","useState","useEffect","initialResponse","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.77ad966f.chunk.js","sourcesContent":["import React from \"react\";\n\nconst PersonsRender = ({\n  setType,\n  setMessage,\n  setPersons,\n  persons,\n  phonebookServices\n}) => {\n  const handleDelete = (id) => {\n    const pers = persons.find((person) => person.id === id);\n    if (\n      pers &&\n      window.confirm(`do you want to delete ${pers.name} from the phonebook?`)\n    ) {\n      phonebookServices\n        .remove(id)\n        .then((deletedPerson) => {\n          setPersons(persons.filter((person) => person.id !== id));\n        })\n        .catch((error) => {\n          console.log(error.response);\n        });\n      setType(\"success\");\n      setMessage(`${pers.name} was deleted from the server`);\n      setTimeout(() => {\n        setType(null);\n        setMessage(null);\n      }, 5000);\n    }\n    console.log(persons);\n  };\n\n  const renderPersons = () =>\n    persons.map((per) => (\n      <div key={per.name}>\n        <p>\n          {per.name} {per.number}{\" \"}\n          <button onClick={() => handleDelete(per.id)}>delete</button>\n        </p>\n      </div>\n    ));\n  return <div>{renderPersons()}</div>;\n};\n\nexport default PersonsRender;\n","import React from \"react\";\n\nconst PersonForm = ({\n  persons,\n  newName,\n  newNumber,\n  setNewName,\n  setNewNumber,\n  phonebookServices,\n  setPersons,\n  setType,\n  setMessage\n}) => {\n  const addPerson = (e) => {\n    e.preventDefault();\n    const pers = persons.find(\n      (per) => per.name.toLowerCase() === newName.toLowerCase()\n    );\n    if (\n      pers &&\n      pers.number !== newNumber &&\n      window.confirm(\n        `${pers.name} already exist in the phonebook, do you want to update the number?`\n      )\n    ) {\n      const personToUpdate = { ...pers, number: newNumber };\n      phonebookServices\n        .update(pers.id, personToUpdate)\n        .then((updatedPerson) => {\n          setPersons(\n            persons.map((person) =>\n              person.id !== pers.id ? person : updatedPerson\n            )\n          );\n          setType(\"success\");\n          setMessage(\n            `${updatedPerson.name} phone number updated to ${updatedPerson.number} in the phonebook`\n          );\n        })\n        .catch((error) => {\n          console.log(error.message);\n          setType(\"error\");\n          setMessage(`${pers.name} already deleted from the phonebook`);\n          setTimeout(() => {\n            setType(null);\n            setMessage(null);\n          }, 5000);\n        });\n    } else if (pers || newName === \"\") {\n      alert(`${newName} already exist in the phonebook`);\n      setType(\"error\");\n      setMessage(`${pers.name} already exist in the phonebook`);\n      setTimeout(() => {\n        setType(null);\n        setMessage(null);\n      }, 5000);\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      };\n      phonebookServices.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(personObject));\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n      setType(\"success\");\n      setMessage(`${personObject.name} is added to the phonebook`);\n      setTimeout(() => {\n        setType(null);\n        setMessage(null);\n      }, 5000);\n    }\n  };\n  return (\n    <>\n      <form onSubmit={addPerson}>\n        <div>\n          name:{\" \"}\n          <input value={newName} onChange={(e) => setNewName(e.target.value)} />\n        </div>\n        <div>\n          number:{\" \"}\n          <input\n            value={newNumber}\n            onChange={(e) => setNewNumber(e.target.value)}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Filter = (props) => {\n  const renderFilter = () => {\n    const person = props.persons.filter(\n      (n) => n.name.toLocaleLowerCase() === props.filter.toLowerCase()\n    );\n    return person.map((per) => (\n      <p key={per.name}>\n        {per.name} {per.number}\n      </p>\n    ));\n  };\n\n  return (\n    <>\n      <form>\n        <div>\n          filter shown with\n          <input\n            value={props.filter}\n            onChange={(e) => props.setFilter(e.target.value)}\n          />\n        </div>\n      </form>\n      {renderFilter()}\n    </>\n  );\n};\n\nexport default Filter;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  console.log(id)\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.date);\n};\n\nexport default { getAll, create, update, remove };\n","import React from \"react\";\n\nconst MessageComponent = ({ message, type }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return (\n    <div>\n      <p>\n        {type === \"success\" ? (\n          <div className={\"success\"}>{message}</div>\n        ) : (\n          <div className={\"error\"}>{message}</div>\n        )}\n      </p>\n    </div>\n  );\n};\n\nexport default MessageComponent;\n","import React, { useState, useEffect } from \"react\";\nimport PersonsRender from \"./components/persons\";\nimport PersonForm from \"./components/personForm\";\nimport Filter from \"./components/filter\";\nimport phonebookServices from \"./services/phonebook\";\nimport MessageComponent from \"./components/messageComponent\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [type, setType] = useState(null);\n\n  useEffect(() => {\n    phonebookServices.getAll().then((initialResponse) => {\n      setPersons(initialResponse);\n    });\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <MessageComponent message={message} type={type} />\n      <Filter persons={persons} filter={filter} setFilter={setFilter} />\n      <h2>add a new </h2>\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        newName={newName}\n        newNumber={newNumber}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        phonebookServices={phonebookServices}\n        setMessage={setMessage}\n        setType={setType}\n      />\n      <h2>Numbers</h2>\n      <PersonsRender\n        persons={persons}\n        setPersons={setPersons}\n        phonebookServices={phonebookServices}\n        setMessage={setMessage}\n        setType={setType}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport './styles.css'\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}